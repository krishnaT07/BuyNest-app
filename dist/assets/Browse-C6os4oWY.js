import{c as Ae,al as Me,w as ce,r as l,y as de,j as e,z as O,x as z,a1 as Te,P as A,D as Be,A as Ve,a4 as ue,E as Le,T as Oe,F as ze,a3 as Fe,a8 as He,ad as Ke,i as $e,g as Ue,B as R,a7 as Ge,a5 as Ye,I as qe,k as oe,n as Qe,o as Xe,am as We,l as ie,af as Y,ag as q,ah as Q,ai as X,aj as P,L as le}from"./index-CErRD7Zr.js";import{H as Je}from"./Header-DA9uUddq.js";import{u as Ze}from"./useProducts-CDKyLWUj.js";import{G as et,L as tt,S as st}from"./ShopCard-DdSolqtn.js";import{S as nt}from"./search-bzMM79dG.js";import"./index-Dvkyeb8o.js";import"./eye-CNVRR24a.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var me=["PageUp","PageDown"],he=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},K="Slider",[W,at,ot]=Me(K),[pe,Lt]=ce(K,[ot]),[it,$]=pe(K),xe=l.forwardRef((t,s)=>{const{name:r,min:n=0,max:a=100,step:u=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:m=0,defaultValue:p=[n],value:x,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:b=!1,form:S,...g}=t,v=l.useRef(new Set),f=l.useRef(0),N=o==="horizontal"?lt:ct,[j=[],M]=de({prop:x,defaultProp:p,onChange:y=>{var _;(_=[...v.current][f.current])==null||_.focus(),d(y)}}),D=l.useRef(j);function F(y){const k=ft(j,y);T(y,k)}function E(y){T(y,f.current)}function G(){const y=D.current[f.current];j[f.current]!==y&&h(j)}function T(y,k,{commit:_}={commit:!1}){const B=vt(u),V=bt(Math.round((y-n)/u)*u+n,B),L=ue(V,[n,a]);M((I=[])=>{const C=mt(I,L,k);if(gt(C,m*u)){f.current=C.indexOf(L);const i=String(C)!==String(I);return i&&_&&h(C),i?C:I}else return I})}return e.jsx(it,{scope:t.__scopeSlider,name:r,disabled:c,min:n,max:a,valueIndexToChangeRef:f,thumbs:v.current,values:j,orientation:o,form:S,children:e.jsx(W.Provider,{scope:t.__scopeSlider,children:e.jsx(W.Slot,{scope:t.__scopeSlider,children:e.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...g,ref:s,onPointerDown:O(g.onPointerDown,()=>{c||(D.current=j)}),min:n,max:a,inverted:b,onSlideStart:c?void 0:F,onSlideMove:c?void 0:E,onSlideEnd:c?void 0:G,onHomeKeyDown:()=>!c&&T(n,0,{commit:!0}),onEndKeyDown:()=>!c&&T(a,j.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:k})=>{if(!c){const V=me.includes(y.key)||y.shiftKey&&he.includes(y.key)?10:1,L=f.current,I=j[L],C=u*V*k;T(I+C,L,{commit:!0})}}})})})})});xe.displayName=K;var[ge,ve]=pe(K,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lt=l.forwardRef((t,s)=>{const{min:r,max:n,dir:a,inverted:u,onSlideStart:o,onSlideMove:c,onSlideEnd:m,onStepKeyDown:p,...x}=t,[d,h]=l.useState(null),b=z(s,N=>h(N)),S=l.useRef(void 0),g=Te(a),v=g==="ltr",f=v&&!u||!v&&u;function w(N){const j=S.current||d.getBoundingClientRect(),M=[0,j.width],F=ee(M,f?[r,n]:[n,r]);return S.current=j,F(N-j.left)}return e.jsx(ge,{scope:t.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:e.jsx(be,{dir:g,"data-orientation":"horizontal",...x,ref:b,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const j=w(N.clientX);o==null||o(j)},onSlideMove:N=>{const j=w(N.clientX);c==null||c(j)},onSlideEnd:()=>{S.current=void 0,m==null||m()},onStepKeyDown:N=>{const M=fe[f?"from-left":"from-right"].includes(N.key);p==null||p({event:N,direction:M?-1:1})}})})}),ct=l.forwardRef((t,s)=>{const{min:r,max:n,inverted:a,onSlideStart:u,onSlideMove:o,onSlideEnd:c,onStepKeyDown:m,...p}=t,x=l.useRef(null),d=z(s,x),h=l.useRef(void 0),b=!a;function S(g){const v=h.current||x.current.getBoundingClientRect(),f=[0,v.height],N=ee(f,b?[n,r]:[r,n]);return h.current=v,N(g-v.top)}return e.jsx(ge,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:e.jsx(be,{"data-orientation":"vertical",...p,ref:d,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=S(g.clientY);u==null||u(v)},onSlideMove:g=>{const v=S(g.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,c==null||c()},onStepKeyDown:g=>{const f=fe[b?"from-bottom":"from-top"].includes(g.key);m==null||m({event:g,direction:f?-1:1})}})})}),be=l.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:u,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:m,...p}=t,x=$(K,r);return e.jsx(A.span,{...p,ref:s,onKeyDown:O(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(c(d),d.preventDefault()):me.concat(he).includes(d.key)&&(m(d),d.preventDefault())}),onPointerDown:O(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),x.thumbs.has(h)?h.focus():n(d)}),onPointerMove:O(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:O(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),u(d))})})}),je="SliderTrack",ye=l.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=$(je,r);return e.jsx(A.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:s})});ye.displayName=je;var J="SliderRange",Se=l.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=$(J,r),u=ve(J,r),o=l.useRef(null),c=z(s,o),m=a.values.length,p=a.values.map(h=>Ce(h,a.min,a.max)),x=m>1?Math.min(...p):0,d=100-Math.max(...p);return e.jsx(A.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:c,style:{...t.style,[u.startEdge]:x+"%",[u.endEdge]:d+"%"}})});Se.displayName=J;var Z="SliderThumb",we=l.forwardRef((t,s)=>{const r=at(t.__scopeSlider),[n,a]=l.useState(null),u=z(s,c=>a(c)),o=l.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return e.jsx(dt,{...t,ref:u,index:o})}),dt=l.forwardRef((t,s)=>{const{__scopeSlider:r,index:n,name:a,...u}=t,o=$(Z,r),c=ve(Z,r),[m,p]=l.useState(null),x=z(s,w=>p(w)),d=m?o.form||!!m.closest("form"):!0,h=Be(m),b=o.values[n],S=b===void 0?0:Ce(b,o.min,o.max),g=ht(n,o.values.length),v=h==null?void 0:h[c.size],f=v?pt(v,S,c.direction):0;return l.useEffect(()=>{if(m)return o.thumbs.add(m),()=>{o.thumbs.delete(m)}},[m,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${S}% + ${f}px)`},children:[e.jsx(W.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(A.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...u,ref:x,style:b===void 0?{display:"none"}:t.style,onFocus:O(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&e.jsx(Ne,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:b},n)]})});we.displayName=Z;var ut="RadioBubbleInput",Ne=l.forwardRef(({__scopeSlider:t,value:s,...r},n)=>{const a=l.useRef(null),u=z(a,n),o=Ve(s);return l.useEffect(()=>{const c=a.current;if(!c)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"value").set;if(o!==s&&x){const d=new Event("input",{bubbles:!0});x.call(c,s),c.dispatchEvent(d)}},[o,s]),e.jsx(A.input,{style:{display:"none"},...r,ref:u,defaultValue:s})});Ne.displayName=ut;function mt(t=[],s,r){const n=[...t];return n[r]=s,n.sort((a,u)=>a-u)}function Ce(t,s,r){const u=100/(r-s)*(t-s);return ue(u,[0,100])}function ht(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function ft(t,s){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-s)),n=Math.min(...r);return r.indexOf(n)}function pt(t,s,r){const n=t/2,u=ee([0,50],[0,n]);return(n-u(s)*r)*r}function xt(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function gt(t,s){if(s>0){const r=xt(t);return Math.min(...r)>=s}return!0}function ee(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function vt(t){return(String(t).split(".")[1]||"").length}function bt(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var Re=xe,jt=ye,yt=Se,St=we;const Pe=l.forwardRef(({className:t,...s},r)=>e.jsxs(Re,{ref:r,className:Le("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(jt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(yt,{className:"absolute h-full bg-primary"})}),e.jsx(St,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Pe.displayName=Re.displayName;var U="Collapsible",[wt,Ot]=ce(U),[Nt,te]=wt(U),ke=l.forwardRef((t,s)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:u,onOpenChange:o,...c}=t,[m,p]=de({prop:n,defaultProp:a??!1,onChange:o,caller:U});return e.jsx(Nt,{scope:r,disabled:u,contentId:Oe(),open:m,onOpenToggle:l.useCallback(()=>p(x=>!x),[p]),children:e.jsx(A.div,{"data-state":ne(m),"data-disabled":u?"":void 0,...c,ref:s})})});ke.displayName=U;var De="CollapsibleTrigger",Ee=l.forwardRef((t,s)=>{const{__scopeCollapsible:r,...n}=t,a=te(De,r);return e.jsx(A.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ne(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:s,onClick:O(t.onClick,a.onOpenToggle)})});Ee.displayName=De;var se="CollapsibleContent",_e=l.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=te(se,t.__scopeCollapsible);return e.jsx(ze,{present:r||a.open,children:({present:u})=>e.jsx(Ct,{...n,ref:s,present:u})})});_e.displayName=se;var Ct=l.forwardRef((t,s)=>{const{__scopeCollapsible:r,present:n,children:a,...u}=t,o=te(se,r),[c,m]=l.useState(n),p=l.useRef(null),x=z(s,p),d=l.useRef(0),h=d.current,b=l.useRef(0),S=b.current,g=o.open||c,v=l.useRef(g),f=l.useRef(void 0);return l.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Fe(()=>{const w=p.current;if(w){f.current=f.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const N=w.getBoundingClientRect();d.current=N.height,b.current=N.width,v.current||(w.style.transitionDuration=f.current.transitionDuration,w.style.animationName=f.current.animationName),m(n)}},[o.open,n]),e.jsx(A.div,{"data-state":ne(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...u,ref:x,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...t.style},children:g&&a})});function ne(t){return t?"open":"closed"}var Rt=ke;const Pt=Rt,kt=Ee,Dt=_e,Et=["All Categories","Grocery","Electronics","Clothing","Food & Drinks","Health & Beauty","Home & Garden","Sports","Books"],zt=()=>{const[t]=He(),s=t.get("q")||"",{deliveryMode:r,setDeliveryMode:n}=Ke(),[a,u]=l.useState(s),[o,c]=l.useState("All Categories"),[m,p]=l.useState([0,1e4]),[x,d]=l.useState("relevance"),[h,b]=l.useState("grid"),[S,g]=l.useState("shops"),[v,f]=l.useState(!1),[w,N]=l.useState(!1),[j,M]=l.useState(null),[D,F]=l.useState([]),{shops:E,loading:G,error:T}=$e({category:o,searchQuery:a,sortBy:x}),{products:y,loading:k,error:_}=Ze({category:o,searchQuery:a,priceRange:m,sortBy:x}),B=S==="shops"?G:k,V=S==="shops"?T:_,{addToCart:L}=Ue(),I=()=>{u(a)},C=i=>`₹${i.toLocaleString()}`;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[e.jsx(Je,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-primary bg-clip-text text-transparent",children:s?`Search results for "${s}"`:"Browse Local Shops"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Discover amazing local businesses in your area"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-muted to-muted/50 p-1.5 rounded-xl shadow-soft border border-border/50",children:[e.jsxs(R,{variant:r==="delivery"?"default":"ghost",size:"sm",onClick:()=>n("delivery"),className:"flex items-center gap-2 rounded-lg hover:scale-105 transition-transform",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Delivery"]}),e.jsxs(R,{variant:r==="pickup"?"default":"ghost",size:"sm",onClick:()=>n("pickup"),className:"flex items-center gap-2 rounded-lg hover:scale-105 transition-transform",children:[e.jsx(Ye,{className:"h-4 w-4"}),"Pickup"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[e.jsxs("div",{className:"relative flex-1 max-w-2xl",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(qe,{type:"text",placeholder:"Search shops or products...",value:a,onChange:i=>u(i.target.value),className:"pl-10"})]}),e.jsx(R,{variant:"default",onClick:I,children:"Search"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Pt,{open:v,onOpenChange:f,children:e.jsxs(oe,{className:"shadow-soft border-primary/10 hover:shadow-strong transition-shadow",children:[e.jsx(kt,{asChild:!0,children:e.jsx(Qe,{className:"bg-gradient-to-br from-primary/5 to-transparent cursor-pointer hover:bg-primary/10 transition-colors",children:e.jsxs(Xe,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5 text-primary"}),"Filters"]}),e.jsx(We,{className:`h-5 w-5 text-muted-foreground transition-transform ${v?"rotate-180":""}`})]})})}),e.jsx(Dt,{children:e.jsxs(ie,{className:"space-y-6 pt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Category"}),e.jsxs(Y,{value:o,onValueChange:c,children:[e.jsx(q,{children:e.jsx(Q,{})}),e.jsx(X,{children:Et.map(i=>e.jsx(P,{value:i,children:i},i))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-3 block",children:["Price Range: ",C(m[0])," - ",C(m[1])]}),e.jsx(Pe,{value:m,onValueChange:i=>p(i),max:1e4,min:0,step:100,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Sort By"}),e.jsxs(Y,{value:x,onValueChange:d,children:[e.jsx(q,{children:e.jsx(Q,{})}),e.jsxs(X,{children:[e.jsx(P,{value:"relevance",children:"Relevance"}),e.jsx(P,{value:"rating",children:"Highest Rated"}),e.jsx(P,{value:"distance",children:"Nearest First"}),e.jsx(P,{value:"delivery-time",children:"Fastest Delivery"}),e.jsx(P,{value:"price-low",children:"Price: Low to High"}),e.jsx(P,{value:"price-high",children:"Price: High to Low"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Availability"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"instock",type:"checkbox",checked:w,onChange:i=>N(i.target.checked)}),e.jsx("label",{htmlFor:"instock",className:"text-sm",children:"In stock only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Minimum Rating"}),e.jsxs(Y,{value:j?String(j):"",onValueChange:i=>M(i?Number(i):null),children:[e.jsx(q,{children:e.jsx(Q,{placeholder:"Any"})}),e.jsxs(X,{children:[e.jsx(P,{value:"",children:"Any"}),e.jsx(P,{value:"3",children:"3★ & up"}),e.jsx(P,{value:"4",children:"4★ & up"})]})]})]}),e.jsx(R,{variant:"outline",className:"w-full",onClick:()=>{c("All Categories"),p([0,1e4]),d("relevance")},children:"Clear Filters"})]})})]})})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-muted p-1 rounded-lg",children:[e.jsxs(R,{variant:S==="shops"?"default":"ghost",size:"sm",onClick:()=>g("shops"),className:"rounded-md",children:["Shops (",B?"...":(E==null?void 0:E.length)||0,")"]}),e.jsxs(R,{variant:S==="products"?"default":"ghost",size:"sm",onClick:()=>g("products"),className:"rounded-md",children:["Products (",B?"...":(y==null?void 0:y.length)||0,")"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1 bg-muted p-1 rounded-lg",children:[e.jsx(R,{variant:h==="grid"?"default":"ghost",size:"sm",onClick:()=>b("grid"),children:e.jsx(et,{className:"h-4 w-4"})}),e.jsx(R,{variant:h==="list"?"default":"ghost",size:"sm",onClick:()=>b("list"),children:e.jsx(tt,{className:"h-4 w-4"})})]})})]}),B&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}),V&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-destructive mb-4",children:V}),e.jsx(R,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]}),!B&&!V&&e.jsx(e.Fragment,{children:S==="shops"?e.jsx("div",{className:h==="grid"?"grid md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:E&&E.length>0?E.map(i=>e.jsx(st,{shop:i,viewMode:h},i.id)):e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No shops found matching your criteria."})})}):e.jsx("div",{className:h==="grid"?"grid md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:y&&y.length>0?y.filter(i=>!w||i.inStock).filter(i=>!0).map(i=>{var re;return e.jsxs(oe,{className:"overflow-hidden hover:shadow-strong hover:-translate-y-1 transition-all cursor-pointer border-primary/10 bg-gradient-to-br from-card to-muted/30 animate-fade-in group",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:i.imageUrl||"/images/products/default-product.jpg",alt:i.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300",loading:"lazy",decoding:"async",onError:H=>{H.currentTarget.src="/images/products/default-product.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx(ie,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(le,{to:`/products/${i.id}`,className:"font-semibold hover:text-primary transition-colors",children:i.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((re=i.shops)==null?void 0:re.name)||"Shop"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-primary",children:C(Number(i.price))}),i.originalPrice&&e.jsx("span",{className:"text-sm text-muted-foreground line-through",children:C(Number(i.originalPrice))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"bg-gradient-primary hover:opacity-90 hover:scale-105 transition-all shadow-soft",size:"sm",onClick:()=>{var H;return L({id:i.id,name:i.name,price:Number(i.price),quantity:1,shopId:i.shopId||"unknown",shopName:((H=i.shops)==null?void 0:H.name)||"Shop",imageUrl:i.imageUrl||"/images/products/default-product.jpg"})},children:"Add to Cart"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("input",{type:"checkbox",checked:D.includes(i.id),onChange:H=>F(ae=>H.target.checked?[...ae,i.id]:ae.filter(Ie=>Ie!==i.id))}),e.jsx("span",{children:"Compare"})]})]})]})})]},i.id)}):e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No products found matching your criteria."})})})})]})]})]}),D.length>0&&e.jsxs("div",{className:"fixed bottom-4 inset-x-4 md:inset-x-auto md:right-4 md:w-[420px] p-3 rounded-xl border bg-background shadow-strong",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"font-semibold text-sm",children:["Compare products (",D.length,")"]}),e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>F([]),children:"Clear"})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Open each in new tab to compare specs."}),e.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto",children:D.map(i=>e.jsxs(le,{to:`/products/${i}`,className:"px-2 py-1 rounded border text-xs hover:bg-muted",children:["#",i]},i))})]})]})};export{zt as default};
