import{c as C,r as m,u as w,d as F,j as e,B as p,k as D,n as I,o as A,p as B,l as E,b as r,I as l,af as H,ag as L,ah as U,ai as q,aj as T}from"./index-CErRD7Zr.js";import{T as Y}from"./textarea-Dy20t7-Y.js";import{C as f}from"./checkbox-BXZjAEBU.js";import{H as u}from"./Header-DA9uUddq.js";import{F as h}from"./Footer-oT7lwhk_.js";import{u as M,a as O}from"./useSellerShop-BMCZEbMm.js";import{P as y}from"./package-Cvp5VV61.js";import{D as V}from"./dollar-sign-DfiYCAKU.js";import"./index-Dvkyeb8o.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=C("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),$=()=>{const[s,i]=m.useState({name:"",description:"",category:"",price:"",originalPrice:"",weight:"",sku:"",inStock:!0,featured:!1}),[x,v]=m.useState(null),[g,d]=m.useState(!1),{toast:o}=w(),{createProduct:N}=M(),{shop:c,loading:b}=O(),n=F(),k=["Fruits & Vegetables","Dairy & Eggs","Meat & Seafood","Bakery & Bread","Pantry & Dry Goods","Beverages","Snacks & Confectionery","Health & Personal Care","Household & Cleaning","Electronics","Clothing & Accessories","Books & Stationery","Other"],P=a=>{var j;const t=(j=a.target.files)==null?void 0:j[0];t&&v(t)},S=async a=>{if(a.preventDefault(),!c||!c.is_approved){o({title:"Shop Not Approved",description:"You cannot add products until your shop is approved by our admin team.",variant:"destructive"});return}d(!0);try{if(!s.name||!s.description||!s.category||!s.price){o({title:"Missing required fields",description:"Please fill in all required fields.",variant:"destructive"}),d(!1);return}const t={name:s.name,description:s.description,category:s.category,price:parseFloat(s.price),originalPrice:s.originalPrice?parseFloat(s.originalPrice):void 0,weight:s.weight,sku:s.sku,inStock:s.inStock,isFeatured:s.featured,imageUrl:"/images/products/default-product.jpg",shopId:"",nutritionInfo:null};await N(t),o({title:"Product added successfully!",description:"Your product is now available in your shop."}),n("/seller-dashboard")}catch(t){console.error("Error creating product:",t),o({title:"Failed to add product",description:"Please try again later.",variant:"destructive"})}finally{d(!1)}};return b?e.jsxs("div",{className:"min-h-screen",children:[e.jsx(u,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading shop information..."})]})})}),e.jsx(h,{})]}):!c||!c.is_approved?e.jsxs("div",{className:"min-h-screen",children:[e.jsx(u,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx(y,{className:"h-16 w-16 mx-auto text-yellow-500 mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shop Not Approved Yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"You cannot add products until your shop is approved by our admin team."}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-sm text-left mb-6",children:[e.jsx("p",{className:"font-semibold mb-2 text-yellow-800",children:"What you can do:"}),e.jsxs("ul",{className:"space-y-1 text-yellow-700",children:[e.jsx("li",{children:"• Wait for admin approval of your shop"}),e.jsx("li",{children:"• Edit your shop details if needed"}),e.jsx("li",{children:"• Prepare your product information"})]})]}),e.jsx(p,{variant:"outline",onClick:()=>n("/seller-dashboard"),children:"Back to Dashboard"})]})})}),e.jsx(h,{})]}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx(u,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(y,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Add New Product"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Add a new product to your shop inventory"})]}),e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"Product Details"}),e.jsx(B,{children:"Provide information about your product"})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",children:"Product Name *"}),e.jsx(l,{id:"name",placeholder:"Enter product name",value:s.name,onChange:a=>i({...s,name:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:"Description *"}),e.jsx(Y,{id:"description",placeholder:"Describe your product...",value:s.description,onChange:a=>i({...s,description:a.target.value}),rows:3,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"category",children:"Category *"}),e.jsxs(H,{onValueChange:a=>i({...s,category:a}),children:[e.jsx(L,{children:e.jsx(U,{placeholder:"Select category"})}),e.jsx(q,{children:k.map(a=>e.jsx(T,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"sku",children:"SKU"}),e.jsx(l,{id:"sku",placeholder:"Product SKU (optional)",value:s.sku,onChange:a=>i({...s,sku:a.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"price",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Price *"]}),e.jsx(l,{id:"price",type:"number",step:"0.01",placeholder:"0.00",value:s.price,onChange:a=>i({...s,price:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"originalPrice",children:"Original Price"}),e.jsx(l,{id:"originalPrice",type:"number",step:"0.01",placeholder:"0.00",value:s.originalPrice,onChange:a=>i({...s,originalPrice:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"weight",children:"Weight/Unit"}),e.jsx(l,{id:"weight",placeholder:"e.g., 1 lb, 500g",value:s.weight,onChange:a=>i({...s,weight:a.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"image",className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4"}),"Product Image"]}),e.jsx(l,{id:"image",type:"file",accept:"image/*",onChange:P,className:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),x&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",x.name]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(r,{className:"text-base font-semibold",children:"Product Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:"inStock",checked:s.inStock,onCheckedChange:a=>i({...s,inStock:a})}),e.jsx(r,{htmlFor:"inStock",children:"In Stock"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:"featured",checked:s.featured,onCheckedChange:a=>i({...s,featured:a})}),e.jsx(r,{htmlFor:"featured",children:"Featured Product"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(p,{type:"button",variant:"outline",className:"flex-1",onClick:()=>n("/seller-dashboard"),children:"Cancel"}),e.jsx(p,{type:"submit",className:"flex-1",disabled:g,children:g?"Adding Product...":"Add Product"})]})]})})]})]})}),e.jsx(h,{})]})};export{$ as default};
