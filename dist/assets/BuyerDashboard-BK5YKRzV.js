import{d as V,f as E,g as q,h as G,u as Q,r as d,i as Y,j as s,k as t,l,m as n,n as h,o as u,p as U,I as K,B as a,q as X,X as Z,t as $,v as k}from"./index-CErRD7Zr.js";import{T as J,a as _,b as j,c as p}from"./tabs-B41GjFOe.js";import{u as ss}from"./useProducts-CDKyLWUj.js";import{H as es}from"./Header-DA9uUddq.js";import{F as as}from"./Footer-oT7lwhk_.js";import{H as T,P as ts}from"./ProductCard-CeFAnCS8.js";import{G as P,L as B,S as ls}from"./ShopCard-DdSolqtn.js";import{T as rs}from"./trending-up-DVOr_w5h.js";import{S as is}from"./search-bzMM79dG.js";import{P as H}from"./package-Cvp5VV61.js";import{E as cs}from"./eye-CNVRR24a.js";import"./index-Dvkyeb8o.js";const Cs=()=>{const r=V(),{user:N}=E(),{items:o,totalPrice:C,totalItems:S}=q(),{wishlistItems:f,isInWishlist:ds,toggleWishlist:z}=G();Q();const[v,D]=d.useState(""),[w,L]=d.useState("All Categories"),[i,m]=d.useState("grid"),[F,A]=d.useState("shops"),[I,ns]=d.useState([0,1e4]),[b,R]=d.useState("relevance"),{shops:c,loading:os}=Y({category:w,searchQuery:v,sortBy:b}),{products:y,loading:ms}=ss({category:w,searchQuery:v,priceRange:I,sortBy:b}),W=["All Categories","Grocery","Electronics","Clothing","Food & Drinks","Health & Beauty","Home & Garden","Sports","Books"],M=[{id:"ORD-001",shop:"Fresh Market",items:3,total:"â‚¹420",status:"Delivered",date:"2 days ago",image:"/images/shops/fresh-market.jpg"},{id:"ORD-002",shop:"Tech Zone",items:1,total:"â‚¹2,999",status:"On the way",date:"Today",image:"/images/shops/tech-zone.jpg"}],x=e=>`â‚¹${e.toLocaleString()}`,O=()=>{};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(es,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",(N==null?void 0:N.name)||"Buyer","! ðŸ‘‹"]}),s.jsx("p",{className:"text-muted-foreground",children:"Discover amazing local shops and products in your area"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(t,{children:s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cart Items"}),s.jsx("p",{className:"text-2xl font-bold",children:S})]}),s.jsx(n,{className:"h-8 w-8 text-primary"})]})})}),s.jsx(t,{children:s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Wishlist"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length})]}),s.jsx(T,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(t,{children:s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Spent"}),s.jsx("p",{className:"text-2xl font-bold",children:x(C)})]}),s.jsx(rs,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(t,{children:s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nearby Shops"}),s.jsx("p",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0})]}),s.jsx(g,{className:"h-8 w-8 text-blue-500"})]})})})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3",children:[s.jsxs(t,{className:"mb-6",children:[s.jsxs(h,{children:[s.jsx(u,{children:"Find Local Shops & Products"}),s.jsx(U,{children:"Search for shops and products in your area"})]}),s.jsxs(l,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(is,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(K,{placeholder:"Search for shops, products, or categories...",value:v,onChange:e=>D(e.target.value),className:"pl-10"})]}),s.jsx(a,{onClick:O,className:"sm:w-auto",children:"Search"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[s.jsx("select",{value:w,onChange:e=>L(e.target.value),className:"px-3 py-2 border border-border rounded-md bg-background",children:W.map(e=>s.jsx("option",{value:e,children:e},e))}),s.jsxs("select",{value:b,onChange:e=>R(e.target.value),className:"px-3 py-2 border border-border rounded-md bg-background",children:[s.jsx("option",{value:"relevance",children:"Relevance"}),s.jsx("option",{value:"rating",children:"Highest Rated"}),s.jsx("option",{value:"distance",children:"Nearest First"}),s.jsx("option",{value:"delivery-time",children:"Fastest Delivery"})]})]})]})]}),s.jsxs(J,{value:F,onValueChange:e=>A(e),children:[s.jsxs(_,{className:"grid w-full grid-cols-4",children:[s.jsx(j,{value:"shops",children:"Shops"}),s.jsx(j,{value:"products",children:"Products"}),s.jsx(j,{value:"orders",children:"Orders"}),s.jsx(j,{value:"wishlist",children:"Wishlist"})]}),s.jsxs(p,{value:"shops",className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Nearby Shops"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{variant:i==="grid"?"default":"outline",size:"sm",onClick:()=>m("grid"),children:s.jsx(P,{className:"h-4 w-4"})}),s.jsx(a,{variant:i==="list"?"default":"outline",size:"sm",onClick:()=>m("list"),children:s.jsx(B,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:i==="grid"?"grid md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:c&&c.length>0?c.map(e=>s.jsx(ls,{shop:e,viewMode:i},e.id)):s.jsxs("div",{className:"col-span-full text-center py-8",children:[s.jsx(g,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No shops found matching your criteria."})]})})]}),s.jsxs(p,{value:"products",className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Featured Products"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{variant:i==="grid"?"default":"outline",size:"sm",onClick:()=>m("grid"),children:s.jsx(P,{className:"h-4 w-4"})}),s.jsx(a,{variant:i==="list"?"default":"outline",size:"sm",onClick:()=>m("list"),children:s.jsx(B,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:i==="grid"?"grid md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:y&&y.length>0?y.slice(0,12).map(e=>s.jsx(ts,{product:e},e.id)):s.jsxs("div",{className:"col-span-full text-center py-8",children:[s.jsx(H,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found matching your criteria."})]})})]}),s.jsx(p,{value:"orders",className:"mt-6",children:s.jsx("div",{className:"space-y-4",children:M.map(e=>s.jsx(t,{className:"cursor-pointer hover:shadow-md transition-shadow",children:s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center",children:s.jsx(g,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:e.id}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.shop}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(X,{variant:e.status==="Delivered"?"default":"secondary",className:"text-xs",children:e.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:e.date})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold",children:e.total}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.items," items"]}),s.jsxs(a,{size:"sm",variant:"outline",className:"mt-2",children:[s.jsx(cs,{className:"h-4 w-4 mr-1"}),"View Details"]})]})]})})},e.id))})}),s.jsx(p,{value:"wishlist",className:"mt-6",children:s.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6",children:f.length>0?f.map(e=>s.jsxs(t,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"aspect-square bg-muted overflow-hidden",children:s.jsx("img",{src:e.imageUrl||"/images/products/default-product.jpg",alt:e.name,className:"w-full h-full object-cover"})}),s.jsxs(l,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:e.name}),s.jsx("p",{className:"text-lg font-bold text-primary mb-3",children:x(e.price)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(a,{size:"sm",className:"flex-1",children:[s.jsx(n,{className:"h-4 w-4 mr-1"}),"Add to Cart"]}),s.jsx(a,{size:"sm",variant:"outline",onClick:()=>z(e),children:s.jsx(Z,{className:"h-4 w-4"})})]})]})]},e.id)):s.jsxs("div",{className:"col-span-full text-center py-8",children:[s.jsx(T,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Your wishlist is empty."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add some products to your wishlist!"})]})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(t,{children:[s.jsx(h,{children:s.jsxs(u,{className:"flex items-center gap-2",children:[s.jsx(n,{className:"h-5 w-5"}),"Cart Summary"]})}),s.jsx(l,{children:o.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[o.slice(0,3).map(e=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium truncate",children:e.name}),s.jsxs("p",{className:"text-muted-foreground",children:["Qty: ",e.quantity]})]}),s.jsx("p",{className:"font-medium",children:x(e.price*e.quantity)})]},e.id)),o.length>3&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",o.length-3," more items"]})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:x(C)})]})}),s.jsxs(a,{className:"w-full",onClick:()=>r("/cart"),children:[s.jsx(n,{className:"h-4 w-4 mr-2"}),"View Cart (",S,")"]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(n,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your cart is empty"}),s.jsx(a,{className:"w-full",onClick:()=>r("/browse"),children:"Start Shopping"})]})})]}),s.jsxs(t,{children:[s.jsx(h,{children:s.jsx(u,{children:"Quick Actions"})}),s.jsxs(l,{className:"space-y-3",children:[s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/browse"),children:[s.jsx(g,{className:"w-4 h-4 mr-2"}),"Browse Shops"]}),s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/cart"),children:[s.jsx(n,{className:"w-4 h-4 mr-2"}),"View Cart"]}),s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/orders"),children:[s.jsx(H,{className:"w-4 h-4 mr-2"}),"My Orders"]}),s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/profile"),children:[s.jsx($,{className:"w-4 h-4 mr-2"}),"Profile"]})]})]}),s.jsxs(t,{children:[s.jsx(h,{children:s.jsxs(u,{className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-5 w-5"}),"Your Location"]})}),s.jsx(l,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Koramangala, Bangalore"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Change location"})]}),s.jsx(a,{size:"sm",variant:"outline",children:s.jsx(k,{className:"h-4 w-4"})})]})})]})]})]})]}),s.jsx(as,{})]})},g=({className:r})=>s.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m11 0a2 2 0 01-2 2H5a2 2 0 01-2-2m5 0v-5a2 2 0 011-1h2a2 2 0 011 1v5m-4 0h4"})});export{Cs as default};
